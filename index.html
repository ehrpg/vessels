<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>EH Vessels</title>
    <link rel="stylesheet" href="./public/css/bootstrap.min.css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="./public/css/datatables.min.css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="./public/css/site.css" media="screen" charset="utf-8">
    <script type="text/javascript">
      function drag (ev) {
        ev.dataTransfer.setData('text', ev.target.id)
      }

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drop(ev) {
        ev.preventDefault();
        var text = ev.dataTransfer.getData('text');
        var result = text.split('-')
        var type = result[0]
        var id = result[1]
        var data = App.data[type][id];
        var ship = App.vms.ship
        ship.components[type].push(data);
      }
    </script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-left">
            <li class="active"><a href="#">Vessel Designer</a></li>
            <li class="disabled"><a href="#">Battle Tracker</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluidt -->
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div id="wrapper">
          <div id="sidebar" class="col-sm-5 col-md-4 col-lg-3">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active">
                <a href="#armor" aria-controls="armor" role="tab" data-toggle="tab">Armor</a>
              </li>
              <li role="presentation">
                <a href="#subsystems" aria-controls="subsystems" role="tab" data-toggle="tab">Subsystems</a>
              </li>
              <li role="presentation">
                <a href="#weapons" aria-controls="weapons" role="tab" data-toggle="tab">Weapons</a>
              </li>
            </ul>

            <!-- Tab panes -->
            <div id="components" class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="armor">
                <armor></armor>
              </div>
              <div role="tabpanel" class="tab-pane" id="subsystems">
                <subsystems></subsystems>
              </div>
              <div role="tabpanel" class="tab-pane" id="weapons">
                <weapons></weapons>
              </div>
            </div><!-- /.components -->
          </div><!-- /.sidebar -->

          <div id="content" class="col-sm-7 col-md-8 col-lg-9">
            <div class="panel panel-default">
              <div class="panel-heading clearfix">
                <h3 class="panel-title pull-left">asd</h3>
                <div class="pull-right">
                  <a id="downloadShips" type="button" name="save" class="btn btn-default btn-xs">Save</a>
                </div>
              </div>
              <div class="panel-body">
                <div id="ships" ondrop="drop(event)", ondragover="allowDrop(event)">
                  <ship :ship="$data"></ship>
                </div>
              </div>
            </div>
          </div><!-- /.content -->
        </div><!-- /.wrapper -->
      </div><!-- /.row -->
    </div><!-- /.container-fluid -->

    <!-- LIBRARIES -->
    <script src="./public/js/jquery.js" charset="utf-8"></script>
    <script src="./public/js/bootstrap.min.js" charset="utf-8"></script>
    <script src="./public/js/datatables.min.js" charset="utf-8"></script>
    <script src="./public/js/vue.js" charset="utf-8"></script>
    <!-- ENVIRONMENT INITIALIZATION -->
    <script type="text/javascript">
      var App = {}; App.data = {}; App.vms = {};
      Vue.config.debug = true
    </script>
    <!-- DATA / COMPONENTS -->
    <script src="./data/components/armor.js" charset="utf-8"></script>
    <script src="./data/components/subsystems.js" charset="utf-8"></script>
    <script src="./data/components/weapons.js" charset="utf-8"></script>
    <!-- DATA / CHASSIS -->
    <script src="./data/chassis.js" charset="utf-8"></script>
    <!-- DATA / SHIPS -->
    <script src="./data/ships/small_ships.js" charset="utf-8"></script>
    <!-- MAIN APP -->
    <script src="./public/js/app.js" charset="utf-8"></script>
  </body>
</html>
